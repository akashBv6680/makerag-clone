<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>MakeRAG - Real-time RAG Platform</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:#f8f9fa;color:#333}.container{max-width:1200px;margin:0 auto;padding:20px}.sidebar{position:fixed;left:0;top:0;width:255px;height:100vh;background:#1a1a1a;color:#fff;padding:20px;overflow-y:auto}.sidebar h1{font-size:20px;margin-bottom:30px;display:flex;align-items:center;gap:8px}.sidebar button{width:100%;padding:12px;margin:8px 0;background:#007bff;border:none;color:#fff;border-radius:6px;cursor:pointer;font-size:14px;transition:all 0.3s}.sidebar button:hover{background:#0056b3}.sidebar button.active{background:#28a745}.nav-section{margin-top:20px}.nav-section h3{font-size:12px;text-transform:uppercase;color:#888;margin-top:15px;margin-bottom:8px}.main{margin-left:280px;padding:20px}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;background:#fff;padding:15px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.status-badge{display:inline-block;padding:8px 16px;background:#28a745;color:#fff;border-radius:20px;font-size:12px;font-weight:bold}.content-area{background:#fff;padding:25px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.section{display:none}.section.active{display:block}.form-group{margin-bottom:15px}.form-group label{display:block;margin-bottom:5px;font-weight:600;font-size:14px}.form-group input,.form-group textarea,.form-group select{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group textarea{resize:vertical;min-height:100px}.btn-primary{padding:10px 20px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:600}.btn-primary:hover{background:#0056b3}.btn-primary:disabled{background:#ccc;cursor:not-allowed}.results{margin-top:20px}.result-item{padding:12px;background:#f8f9fa;border-left:4px solid #007bff;margin-bottom:10px;border-radius:4px}.result-item strong{display:block;margin-bottom:5px}.result-item .score{font-size:12px;color:#888;margin-top:5px}.message{padding:12px;margin-bottom:10px;border-radius:4px;border-left:4px solid #007bff}.message.user{background:#e7f3ff;text-align:right;margin-left:40px}.message.assistant{background:#f0f0f0;margin-right:40px}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:15px}.stat-card{background:#f8f9fa;padding:15px;border-radius:6px;border-left:4px solid #007bff;text-align:center}.stat-card .number{font-size:24px;font-weight:bold;color:#007bff}.stat-card .label{font-size:12px;color:#888;margin-top:5px}.loading{text-align:center;color:#888;padding:20px}.error{background:#f8d7da;border-left-color:#dc3545;color:#721c24;padding:12px;border-radius:4px;margin-bottom:10px}.success{background:#d4edda;border-left-color:#28a745;color:#155724;padding:12px;border-radius:4px;margin-bottom:10px}</style></head><body><div class="sidebar"><h1>ü§ñ MakeRAG</h1><button class="nav-btn active" data-section="upload">üì§ Upload</button><button class="nav-btn" data-section="search">üîç Search</button><button class="nav-btn" data-section="chat">üí¨ AI Chat</button><button class="nav-btn" data-section="stats">üìä Stats</button><button class="nav-btn" data-section="api">üîë API Docs</button><div class="nav-section"><h3>Info</h3><div style="font-size:12px;color:#888;line-height:1.6"><div>Status: <span id="api-status">Checking...</span></div><div style="margin-top:8px">Backend: <span id="backend-url">makerag-clone.onrender.com</span></div></div></div></div><div class="main"><div class="header"><h2>MakeRAG - Real-time RAG Platform</h2><span class="status-badge" id="status">üü¢ Running</span></div><div class="content-area"><div class="section active" id="upload"><h3>Upload Document</h3><p style="margin-bottom:15px;color:#666">Add documents to your knowledge base</p><form id="upload-form"><div class="form-group"><label>Document File</label><input type="file" id="doc-file" accept=".pdf,.docx,.txt,.md"></div><button type="submit" class="btn-primary">Upload & Ingest</button></form><div id="upload-result"></div></div><div class="section" id="search"><h3>Document Search</h3><p style="margin-bottom:15px;color:#666">Hybrid search across your documents</p><div class="form-group"><label>Search Query</label><input type="text" id="search-query" placeholder="Ask a question..."></div><select id="retrieval-mode" style="margin-bottom:15px"><option value="hybrid">Hybrid Search (Vector + Graph)</option><option value="vector">Vector Search</option><option value="graph">Graph Search</option></select><button class="btn-primary" onclick="performSearch()">Search</button><div id="search-results"></div></div><div class="section" id="chat"><h3>AI Chat</h3><p style="margin-bottom:15px;color:#666">Chat with your documents using AI</p><div id="chat-messages" style="height:300px;overflow-y:auto;border:1px solid #ddd;border-radius:4px;padding:10px;margin-bottom:15px;background:#f8f9fa"></div><div style="display:flex;gap:10px"><input type="text" id="chat-input" placeholder="Type your question..." style="flex:1"><button class="btn-primary" onclick="sendMessage()" style="flex:0">Send</button></div><div id="chat-result"></div></div><div class="section" id="stats"><h3>System Statistics</h3><div id="stats-content" class="loading">Loading...</div></div><div class="section" id="api"><h3>API Documentation</h3><iframe src="https://makerag-clone.onrender.com/docs" style="width:100%;height:600px;border:1px solid #ddd;border-radius:4px"></iframe></div></div></div><script>const API_BASE='https://makerag-clone.onrender.com';let currentSessionId='';document.querySelectorAll('.nav-btn').forEach(btn=>{btn.addEventListener('click',()=>{document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));btn.classList.add('active');document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));document.getElementById(btn.dataset.section).classList.add('active')})});document.getElementById('upload-form').addEventListener('submit',async(e)=>{e.preventDefault();const file=document.getElementById('doc-file').files[0];if(!file){alert('Please select a file');return}const formData=new FormData();formData.append('file',file);try{const res=await fetch(API_BASE+'/api/documents/upload',{method:'POST',body:formData});const data=await res.json();document.getElementById('upload-result').innerHTML='<div class="success">‚úì Document uploaded successfully!<br/>Size: '+(data.document.size/1024).toFixed(2)+' KB<br/>Vectors created: '+data.document.vectors+'</div>'}catch(e){document.getElementById('upload-result').innerHTML='<div class="error">‚úó Upload failed</div>'}});async function performSearch(){const query=document.getElementById('search-query').value;const mode=document.getElementById('retrieval-mode').value;if(!query){alert('Enter a search query');return}document.getElementById('search-results').innerHTML='<div class="loading">Searching...</div>';try{const res=await fetch(API_BASE+'/api/search',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({query:query,retrieval_mode:mode})});const data=await res.json();let html='<div class="success">Found '+data.total_results+' results</div><div class="results">';data.results.forEach(r=>{html+='<div class="result-item"><strong>'+r.content+'</strong><div class="score">Score: '+(r.score*100).toFixed(1)+'% | Mode: '+r.retrieval_type+'</div></div>'});html+='</div>';document.getElementById('search-results').innerHTML=html}catch(e){document.getElementById('search-results').innerHTML='<div class="error">Search failed</div>'}}async function sendMessage(){const msg=document.getElementById('chat-input').value;if(!msg){return}document.getElementById('chat-input').value='';const msgEl=document.getElementById('chat-messages');msgEl.innerHTML+='<div class="message user">'+msg+'</div>';try{const res=await fetch(API_BASE+'/api/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:msg,session_id:currentSessionId||'default'})});const data=await res.json();currentSessionId=data.session_id;msgEl.innerHTML+='<div class="message assistant">'+data.ai_response+'<div style="font-size:11px;margin-top:8px;opacity:0.7">Confidence: '+(data.confidence*100).toFixed(0)+'%</div></div>';msgEl.scrollTop=msgEl.scrollHeight}catch(e){msgEl.innerHTML+='<div class="message assistant" style="color:red">Error: Could not get response</div>'}}async function loadStats(){try{const res=await fetch(API_BASE+'/api/stats');const data=await res.json();let html='<div class="stats-grid"><div class="stat-card"><div class="number">'+data.total_projects+'</div><div class="label">Projects</div></div><div class="stat-card"><div class="number">'+data.total_documents+'</div><div class="label">Documents</div></div><div class="stat-card"><div class="number">'+data.total_vectors+'</div><div class="label">Vectors</div></div><div class="stat-card"><div class="number">'+data.total_chats+'</div><div class="label">Chat Sessions</div></div></div>';document.getElementById('stats-content').innerHTML=html}catch(e){document.getElementById('stats-content').innerHTML='<div class="error">Failed to load statistics</div>'}}async function checkApiStatus(){try{const res=await fetch(API_BASE+'/health');const data=await res.json();document.getElementById('api-status').textContent='üü¢ '+data.status;document.getElementById('status').textContent='üü¢ Running'}catch(e){document.getElementById('api-status').textContent='üî¥ Offline';document.getElementById('status').textContent='üî¥ Offline'}}checkApiStatus();setInterval(checkApiStatus,10000);document.getElementById('stats-content').addEventListener('mouseenter',loadStats)</script></body></html>
